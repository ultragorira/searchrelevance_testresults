{% extends 'base/main.html' %}
{% block content %}

<div class="header-bar">
    <div>
        <h1> Hello {{request.user|title}}</h1>
        <h3 style="margin:0">You have <i>{{count}}</i> item{{ count|pluralize:"s" }} to verify </h3>
    </div>
    {% if request.user.is_authenticated %}
        <a href="{% url 'logout' %}">Logout</a>
    {% else %}
        <a href="{% url 'login'%}">Login</a>
    {% endif %}
</div>

<div id="search-add-wrapper">
    <form method="GET" style="margin-top: 20px;display: flex;">
        <input type="text" name="search-area" value="{{search_input}}">&nbsp;
        <input class="button" type="submit" value="Search">
    </form>
</div>



<div class="task-items-wrapper">
    <table width="100%">
    <th>Status</th>
    <th>Search Query</th>
    <th>Link</th>
    <th>Your Answer</th>
    <th>Correct Answer</th>
    <th>Result</th>
    {% for result in results %}
            <tr class="{% cycle 'gray' 'white' %}">
                {% if result.verdict == 'Wrong' %}
                    <td align="center">
                        <div class="incorrect-result-icon"></div>
                    </td>
                {% else %}
                    <td align="center">
                        <div class="correct-result-icon"></div>
                    </td>
                {% endif %}
                <td align="center">
                {{result.search_query}}
                </td>
                <td align="center">
                <a href="{{result.link_query}}">Link</a>
                </td>
                <td align="center">
                {{result.user_answer}}
                </td>
                <td align="center">
                {{result.correct_answer}}
                </td>
                <td align="center">
                {{result.verdict}}
                </td>
            </tr>
    {% empty %}
        <h3> No items available </h3>
    {% endfor %}
    </table>
</div>

{% endblock content %}